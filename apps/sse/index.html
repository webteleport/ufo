<!DOCTYPE html>
<html>

<head>
    <title id="title">SSE</title>
</head>

<body>
    <h1>SSE</h1>
    <p>
        <a href="/once">SSE Once</a>: curl http://localhost:8080/once
    </p>
    <p>
        <a href="/sse">SSE</a>: curl -H "Accept: text/event-stream" -N http://localhost:8080
    </p>
    <p>
        <a href="/ws">WS</a>: websocat ws://localhost:8080
    </p>
    <script>
        var source = new EventSource('/sse');
        source.onerror = function (e) {
            console.log(e);
        };
        source.onmessage = function (e) {
            document.getElementsByTagName('title')[0].innerHTML = e.data;
        };
    </script>
</body>

</html>